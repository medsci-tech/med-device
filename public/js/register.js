webpackJsonp([2],{16:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),o=a.n(i);o()(function(){function e(e){e.children(".note").remove(),e.css("position","relative"),o()('<img src="/img/home/u44.png">').addClass("note").appendTo(e).css({position:"absolute",top:"14px",right:"-40px",width:"20px",whiteSpace:"nowrap"}),e.css("border-color","#d7d7d7")}function t(e,t){e.children(".note").remove(),e.css("position","relative"),o()('<div class="note"><img src="/img/home/u46.png"> '+t+"</div>").addClass("note").appendTo(e).css({position:"absolute",width:"20px",top:0,left:"440px",color:"red",zIndex:99,whiteSpace:"nowrap"}),e.css("border-color","red")}function a(a){var i=a.val(),n=i.indexOf("@");if(-1===n)return void t(o()("#email-box"),"邮箱格式不正确，请重新输入");var s=i.substring(n);if(".com"===s.substring(s.length-4)||".cn"===s.substring(s.length-3))return void e(o()("#email-box"));t(o()("#email-box"),"邮箱格式不正确，请重新输入")}var i=60;o()("#getCaptcha").click(function(){if(!(i<60)){if(""===o()("#phone").val())return void sweetAlert("请填写手机号");var e=o()(this);setTimeout(function(){e.text("发送中...")},100),o.a.ajax({url:"/send-code",type:"post",data:{phone:o()("#phone").val()},success:function(t){if(1===t.status)var a=setInterval(function(){i<=0?(e.text("获取验证码"),clearInterval(a),i=60):(i--,e.text(i+"秒后重新获取"))},1e3);else e.text("获取验证码"),sweetAlert(t.message)}})}}),o()("#submit").click(function(){var e=o()("#name").val(),t=o()("#password").val(),a=o()("#password_confirmation").val(),i=o()("#phone").val(),n=o()("#code").val(),s=o()('input[name="birthday"]').val();if(""===e)return void sweetAlert("请填写用户名");if(""===t)return void sweetAlert("请填写密码");if(""===a)return void sweetAlert("请填写密码确认");if(""===i)return void sweetAlert("请填写手机号");if(11!==i.length)return void sweetAlert("请填写正确的手机号");if(""===n)return void sweetAlert("请填写验证码");if(t!==a)return void sweetAlert("密码与密码确认不一致！");var r=o()("#real_name").val(),l=o()("#email").val(),c=o()("#agree")[0].checked,d=o()('.btn.active input[name="gender"]').val();o.a.ajax({url:"/register",type:"post",data:{name:e,password:t,password_confirmation:a,phone:i,code:n,real_name:r,email:l,agree:c,birthday:s,sex:d},success:function(e){1===e.status?swal({title:"",html:!0,text:'注册成功，<a href="/">前往首页</a>',type:"success",showConfirmButton:!1}):sweetAlert(e.message)}})}),o()("#name").on("blur",function(){o.a.ajax({url:"/check-username",type:"post",data:{name:o()(this).val()},success:function(a){1===a.status?e(o()("#name-box")):t(o()("#name-box"),a.message)}})}),o()("#password_confirmation").on("blur",function(){o()(this).val()!==o()("#password").val()?t(o()("#confirm"),"两次密码输入不一致，请重新设置密码"):e(o()("#confirm"))}),o()("#email").on("blur",function(){a(o()(this))}),o()("#phone").on("blur",function(){/^1[35678]\d{9}$/.test(o()(this).val())?o.a.ajax({url:"/check-username",type:"post",data:{name:o()(this).val()},success:function(a){1===a.status?e(o()("#phone-box")):t(o()("#phone-box"),a.message)}}):t(o()("#phone-box"),"手机号格式不正确，请重新输入")}),o()("#email").on("keyup",function(){o()(".email-dropdown").show();var e=o()("#email").val();o()(".item-email").each(function(){var t=e.indexOf("@");if(-1!==t){var a=e.substring(t);-1===o()(this).data("value").indexOf(a)&&o()(this).hide()}else o()(this).show(),o()(this).text(e+o()(this).data("value"))})});var n=["@qq.com","@163.com","@126.com","@sina.com","@hptmail.com","@gmail.com","@hotmail.com","@sohu.com","@21cn.com"];!function(e){for(var t=0;t<e.length;t++)o()("<div></div>").addClass("item-email").data("value",e[t]).css({width:"100%",height:"40px",lineHeight:"40px",paddingLeft:"10px",borderBottom:"1px solid #f2f2f2",overflow:"hidden"}).click(function(){o()("#email").val(o()(this).text()),a(o()("#email"))}).appendTo(o()(".email-dropdown"))}(n),o()("body").click(function(){o()(".email-dropdown").hide(),o()("item-email").text("")}),o()("#datetimepicker").datetimepicker({minView:"month",format:"yyyy-mm-dd",language:"zh-CN",autoclose:!0})})},67:function(e,t,a){e.exports=a(16)}},[67]);